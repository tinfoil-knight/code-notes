{"componentChunkName":"component---node-modules-gatsby-theme-code-notes-src-templates-note-js","path":"/go/go-with-tests/","result":{"data":{"mdx":{"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Learn Go w/ Tests\",\n  \"tags\": [\"go\", \"book\"],\n  \"link\": \"https://quii.gitbook.io/learn-go-with-tests/\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"Specifying test input and assertion\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-go\"\n  }, \"package main\\n\\nimport \\\"testing\\\"\\n\\nfunc TestHello(t *testing.T) {\\n    got := Hello(\\\"Chris\\\")\\n    want := \\\"Hello, Chris\\\"\\n\\n    if got != want {\\n        t.Errorf(\\\"got %q want %q\\\", got, want)\\n    }\\n}\\n\")), mdx(\"p\", null, \"Subtests & Refactoring Code\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-go\"\n  }, \"func TestHello(t *testing.T) {\\n\\n    assertCorrectMessage := func(t *testing.T, got, want string) {\\n        t.Helper()\\n        if got != want {\\n            t.Errorf(\\\"got %q want %q\\\", got, want)\\n        }\\n    }\\n\\n    t.Run(\\\"saying hello to people\\\", func(t *testing.T) {\\n        got := Hello(\\\"Chris\\\")\\n        want := \\\"Hello, Chris\\\"\\n        assertCorrectMessage(t, got, want)\\n    })\\n\\n    t.Run(\\\"empty string defaults to 'World'\\\", func(t *testing.T) {\\n        got := Hello(\\\"\\\")\\n        want := \\\"Hello, World\\\"\\n        assertCorrectMessage(t, got, want)\\n    })\\n\\n}\\n\")), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"t.Helper()\"), \" is needed to tell the test suite that this method is a helper. By doing this when it fails the line number reported will be in our function call rather than inside our test helper.\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Testing Cycle\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Write the test first\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Try and run the test\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Write the minimal amount of code for the test to run and check the failing test output\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Write enough code to make the test pass\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Refactor\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"The TDD process and why the steps are important\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Write a failing test and see it fail so we know we have written a relevant test for our requirements and seen that it produces an easy to understand description of the failure\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Writing the smallest amount of code to make it pass so we know we have working software\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Then refactor, backed with the safety of our tests to ensure we have well-crafted code that is easy to work with\")), mdx(\"p\", null, \"Write examples for code\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-go\"\n  }, \"func ExampleAdd() {\\n    sum := Add(1, 5)\\n    fmt.Println(sum)\\n    // Output: 6\\n}\\n\")), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"Note: Please note that the example function will not be executed if you remove the comment \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"//Output: 6\"), \". Although the function will be compiled, it won't be executed.\\nFor more: \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://blog.golang.org/examples\"\n  }, \"Testable Examples in Go\"), \"\\nAlso, this is the naming convention by Godoc:\"), mdx(\"pre\", {\n    parentName: \"blockquote\"\n  }, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"func ExampleFoo()     // documents the Foo function or type\\nfunc ExampleBar_Qux() // documents the Qux method of type Bar\\nfunc Example()        // documents the package as a whole\\n\"))), mdx(\"p\", null, \"Benchmarking in Go\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"func BenchmarkRepeat(b *testing.B) {\\n    for i := 0; i < b.N; i++ {\\n        Repeat(\\\"a\\\")\\n    }\\n}\\n\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"When the benchmark code is executed, it runs b.N times and measures how long it takes.\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"To run the benchmarks do \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"go test -bench=.\")), mdx(\"blockquote\", {\n    parentName: \"li\"\n  }, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"For more: \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://golang.org/pkg/testing/#hdr-Benchmarks\"\n  }, \"Benchmarks\")))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"reflect.DeepEqual\"), \" is useful for seeing if any two variables are the same (can be used to compare slices)(! not typesafe)\"))), mdx(\"p\", null, \"Interfaces\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"We want to be able to write some kind of checkArea function that we can pass both Rectangles and Circles to, but fail to compile if we try to pass in something that isn't a shape.\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-go\"\n  }, \"func (r Rectangle) Area() float64  {\\n    return r.Width * r.Height\\n}\\n\\nfunc (c Circle) Area() float64  {\\n    return math.Pi * c.Radius * c.Radius\\n}\\n\\nfunc TestArea(t *testing.T) {\\n    checkArea := func(t *testing.T, shape Shape, want float64) {\\n        t.Helper()\\n        got := shape.Area()\\n        if got != want {\\n            t.Errorf(\\\"got %g want %g\\\", got, want)\\n        }\\n    }\\n\\n    t.Run(\\\"rectangles\\\", func(t *testing.T) {\\n        rectangle := Rectangle{12, 6}\\n        checkArea(t, rectangle, 72.0)\\n    })\\n\\n    t.Run(\\\"circles\\\", func(t *testing.T) {\\n        circle := Circle{10}\\n        checkArea(t, circle, 314.1592653589793)\\n    })\\n\\n}\\n\\ntype Shape interface {\\n    Area() float64\\n}\\n\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"A gotcha that reference types introduce is that maps can be a \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"nil\"), \" value. A \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"nil\"), \" map behaves like an empty map when reading, but attempts to write to a nil map will cause a runtime panic.\")));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"title":"Learn Go w/ Tests","tags":["go","book"],"emoji":null,"link":"https://quii.gitbook.io/learn-go-with-tests/"},"fields":{"slug":"/go/go-with-tests/"},"tableOfContents":{},"parent":{"__typename":"File","relativePath":"go/go-with-tests.md"}}},"pageContext":{"id":"c05908d1-5c71-5f8c-8c7c-4c6905994394","previous":{"id":"78d64427-1578-5f87-ab73-7180329ce43c","frontmatter":{"title":"Tips from Let's Go","tags":["go","backend","book"]},"fields":{"slug":"/go/lets-go/"}},"next":{"id":"9a07b81b-7797-583d-a6c9-806832dd0515","frontmatter":{"title":"Viper + YAML","tags":["go"]},"fields":{"slug":"/go/viper-yaml/"}},"hasUntagged":true,"basePath":"/"}},"staticQueryHashes":["1437003973","2744905544","3664657028","467212769","467212769"]}